{"version":3,"sources":["../../src/pages/maps/maps.module.ts","../../src/pages/maps/maps.ts","../../src/models/MapModel.ts","../../src/providers/Enums/vehiclesIcons.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { MapsPage } from './maps';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MapsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(MapsPage),\r\n  ],\r\n})\r\nexport class MapsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/maps/maps.module.ts","import { Component, OnInit } from '@angular/core';\r\nimport { IonicPage, ModalController, NavController, MenuController, NavParams, Platform } from 'ionic-angular';\r\nimport {\r\n  GoogleMaps,\r\n  GoogleMap,\r\n  GoogleMapsEvent,\r\n  GoogleMapOptions,\r\n  CameraPosition,\r\n  MarkerOptions,\r\n  Marker,\r\n  Environment,\r\n  HtmlInfoWindow,\r\n  VisibleRegion,\r\n  LatLngBounds,\r\n  ILatLng,\r\n  LatLng,\r\n  Polygon,\r\n  PolylineOptions,\r\n  PolygonOptions,\r\n  BaseArrayClass,\r\n  Poly\r\n} from '@ionic-native/google-maps';\r\nimport { Diagnostic } from '@ionic-native/diagnostic';\r\nimport { Geolocation, Geoposition } from '@ionic-native/geolocation';\r\nimport { AutocompletePage } from '../autocomplete/autocomplete';\r\nimport { LocationAccuracy } from '@ionic-native/location-accuracy'\r\nimport { fromEvent } from 'rxjs/observable/fromEvent';\r\nimport { LocationsProvider } from '../../providers/Map/locations';\r\nimport { GeoModel } from '../../models/MapModel'\r\nimport { vehicaleModel, vehicaleReservationModel } from '../../models/vehicaleModel';\r\nimport { OpenNativeSettings } from '@ionic-native/open-native-settings';\r\nimport { BackgroundGeolocation, BackgroundGeolocationConfig, BackgroundGeolocationResponse } from '@ionic-native/background-geolocation';\r\nimport { VehiclsProvider } from '../../providers/Map/vechilsApi';\r\nimport { ResponseModel } from '../../models/ResponseModel';\r\nimport { vehiclesIcons } from '../../providers/Enums/vehiclesIcons';\r\nimport { AlertsProvider } from '../../providers/generic/AlertsProvider';\r\nimport { reservationEnum } from '../../providers/Enums/reservationEnum';\r\n//import { ScanCodePage } from '../scan-code/scan-code';\r\n/**\r\n * Generated class for the MapsPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-maps',\r\n  templateUrl: 'maps.html',\r\n})\r\nexport class MapsPage implements OnInit {\r\n\r\n  // Variables\r\n  geoModelVar: GeoModel;\r\n\r\n  vehicalModel: vehicaleModel;\r\n  map: GoogleMap;\r\n  lat: any;\r\n  lng: any;\r\n  address;\r\n\r\n  constructor(public navCtrl: NavController, private platform: Platform, private diagnostic: Diagnostic,\r\n    private menu: MenuController, private _location: LocationsProvider, private openNativeSettings: OpenNativeSettings,\r\n    public navParams: NavParams, private geolocation: Geolocation, private backgroundGeolocation: BackgroundGeolocation,\r\n    private ModalCtrl: ModalController, private locationAccuracy: LocationAccuracy,\r\n    public _VehiclsProvider: VehiclsProvider, private _alertsService: AlertsProvider) {\r\n    // Begin Constractor\r\n    this.geoModelVar = new GeoModel();\r\n\r\n  }\r\n\r\n  vehicles;\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    this.address = {\r\n      place: ''\r\n    };\r\n\r\n    // let successCallback = (isAvailable) => { console.log('Is available? ' + isAvailable); };\r\n    // let errorCallback = (e) => console.error(e);\r\n\r\n    //this.diagnostic.isGpsLocationAvailable().then(successCallback).catch(errorCallback);\r\n\r\n    ////this.diagnostic.isCameraAvailable().then(successCallback, errorCallback);\r\n\r\n    this.platform.ready().then(() => {\r\n\r\n      this.locationAccuracy.canRequest().then((canRequest: boolean) => {\r\n        console.log(\"Can req : \" + canRequest)\r\n        if (canRequest) {\r\n          // the accuracy option will be ignored by iOS\r\n          this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(\r\n            () => console.log('Request successful'),\r\n            error => console.log('Error requesting location permissions', error)\r\n          );\r\n        }\r\n\r\n      });\r\n\r\n      this.diagnostic.requestLocationAuthorization(\"always\")\r\n        .then((state) => {\r\n          console.log(JSON.stringify(state));\r\n        }).catch(e => console.error(e));\r\n\r\n      // this.openNativeSettings.open(\"location\").then((data)=>{\r\n      //   console.log(JSON.stringify(data));\r\n      // })\r\n      // this.requestLocationAccuracy();\r\n      // this.geoModelVar.lat = 41.799240000000005;\r\n      // this.geoModelVar.lng = 140.75875000000002;\r\n      this._location.GetCurrent().then(((resp) => {\r\n        this.geoModelVar.lat = resp.coords.latitude;\r\n        this.geoModelVar.lng = resp.coords.longitude;\r\n        this.loadMap();\r\n      }));\r\n    });\r\n  }\r\n\r\n  showAddressModal() {\r\n    let modal = this.ModalCtrl.create(AutocompletePage);\r\n    let me = this;\r\n    modal.onDidDismiss(data => {\r\n      this.address.place = data;\r\n    });\r\n    modal.present();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.menu.swipeEnable(true);\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.menu.swipeEnable(false);\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  loadMap() {\r\n    Environment.setEnv({\r\n      'API_KEY_FOR_BROWSER_DEBUG': 'AIzaSyBLKRh7JfikPylbNdGfTiDbe6zut1yabxo',\r\n      'API_KEY_FOR_BROWSER_RELEASE': 'AIzaSyBLKRh7JfikPylbNdGfTiDbe6zut1yabxo'\r\n    });\r\n\r\n    // this.map = new GoogleMap('map_canvas');\r\n    //  this.map=GoogleMaps.create('map_canvas');\r\n    let mapOptions: GoogleMapOptions = {\r\n      camera: {\r\n        duration: 1000,\r\n        target: {\r\n          lat: this.geoModelVar.lat,\r\n          lng: this.geoModelVar.lng\r\n        },\r\n        zoom: 17,\r\n        tilt: 30\r\n      },\r\n      controls: { zoom: false, compass: false, mapToolbar: false, myLocation: true, myLocationButton: true },\r\n      gestures: {\r\n        scroll: true,\r\n        tilt: false,\r\n        rotate: true,\r\n        zoom: true\r\n      },\r\n    };\r\n\r\n    this.map = GoogleMaps.create('map_canvas', mapOptions);\r\n\r\n    this.map.one(GoogleMapsEvent.MAP_READY)\r\n      .then((readyData) => {\r\n        this.getVehicles(this.map.getVisibleRegion());\r\n\r\n        //console.log(\" <<<  \" + JSON.stringify(readyData));\r\n        // Get area codinates\r\n        this.map.addEventListener(GoogleMapsEvent.CAMERA_MOVE_END).subscribe((e) => {\r\n          //console.log(\"d \" + JSON.stringify(e));\r\n          this.getVehicles(this.map.getVisibleRegion());\r\n        });\r\n      });\r\n  }\r\n\r\n  getVehicles(data: VisibleRegion) {\r\n    let pointsPoly: ILatLng[] = [];\r\n    pointsPoly.push(new LatLng(data.farLeft.lat, data.farLeft.lng));\r\n    pointsPoly.push(new LatLng(data.farRight.lat, data.farRight.lng));\r\n    pointsPoly.push(new LatLng(data.northeast.lat, data.northeast.lng));\r\n    // pointsPoly.push(new LatLng(data.southwest.lat, data.southwest.lng));\r\n    pointsPoly.push(new LatLng(data.nearRight.lat, data.nearRight.lng));\r\n    pointsPoly.push(new LatLng(data.nearLeft.lat, data.nearLeft.lng));\r\n\r\n    this._VehiclsProvider.byArea(data).subscribe(returnData => {\r\n      let ResultData = <ResponseModel>returnData;\r\n      this.vehicles = [];\r\n      this.map.clear();\r\n      let tempPosition;\r\n      for (let item of ResultData.ReturnedObject.$values) {\r\n        let vechilModel: vehicaleModel = item;\r\n        tempPosition = new LatLng(vechilModel.Lat, vechilModel.Lng);\r\n\r\n        console.log(Poly.containsLocation(tempPosition, pointsPoly) + \"    \" + tempPosition);\r\n\r\n        if (Poly.containsLocation(tempPosition, pointsPoly)) {\r\n          item.iconImageEnum = vehiclesIcons[item.iconImageEnum];\r\n          this.vehicles.push(item);\r\n          this.addMarker(item)\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  successFun(pos) {\r\n    console.log(\"Success is \" + JSON.stringify(pos));\r\n  }\r\n  failurFun(pos) {\r\n    console.log(\"Error is\" + JSON.stringify(pos));\r\n  }\r\n  myLocation() {\r\n    this.backGroundGeo();\r\n\r\n    let options = {\r\n      maximumAge: 3000,\r\n      timeout: 30000,\r\n      enableHighAccuracy: true\r\n    };\r\n\r\n    navigator.geolocation.getCurrentPosition(this.successFun, this.failurFun, options);\r\n\r\n    console.log(\"try to locate \");\r\n    this.geolocation.watchPosition(options).subscribe((position: Geoposition) => {\r\n      // loading.dismiss();\r\n      console.log(\"current location at login\" + position.coords.latitude);\r\n\r\n      // Run update inside of Angular's zone\r\n      // this.zone.run(() => {\r\n      // this.currentLat = position.coords.latitude;\r\n      // this.currentLng = position.coords.longitude;\r\n      //});\r\n\r\n    });\r\n\r\n    this.geolocation.getCurrentPosition(options).then((resp: Geoposition) => {\r\n      console.log(\"Ya Rab : \" + JSON.stringify(resp));\r\n      this.lat = resp.coords.latitude;\r\n      this.lng = resp.coords.longitude;\r\n      let mapOptions: GoogleMapOptions = {\r\n        camera: {\r\n          target: {\r\n            lat: this.lat,\r\n            lng: this.lng\r\n          },\r\n          zoom: 15,\r\n          tilt: 30\r\n        },\r\n        controls: { zoom: false, compass: false, mapToolbar: false, myLocation: true, myLocationButton: true },\r\n        gestures: {\r\n          scroll: true,\r\n          tilt: false,\r\n          rotate: true,\r\n          zoom: true\r\n        },\r\n      };\r\n      this.map.setOptions(mapOptions);\r\n\r\n      //      this.loadMap();\r\n\r\n    }).catch((error) => {\r\n      console.log('Error getting location', error);\r\n    });\r\n  }\r\n\r\n  addMarker(vehicaleModel: vehicaleModel) {\r\n    var htmlInfoWindow = new HtmlInfoWindow();\r\n    var html = [\r\n      'This is <b>Html</b> InfoWindow',\r\n      '<br>',\r\n      '<button onclick=\"javascript:alert(\\'clicked!\\');\">click here</button>',\r\n    ].join(\"\");\r\n    htmlInfoWindow.setContent(html)\r\n\r\n    let marker: Marker = this.map.addMarkerSync({\r\n      //title: '<div class=\"infoclass\">Mohamed </div>',\r\n      // icon: 'blue',\r\n      icon: {\r\n        url: vehicaleModel.iconImageEnum,\r\n        size: {\r\n          width: 24,\r\n          height: 24\r\n        }\r\n      },\r\n      iconData: {\r\n        url: vehicaleModel.iconImageEnum,\r\n        size: {\r\n          width: 24,\r\n          height: 24\r\n        }\r\n      }\r\n      ,\r\n      styles: \"\",\r\n      animation: 'DROP',\r\n      draggable: false,\r\n      position: {\r\n        lat: vehicaleModel.Lat,\r\n        lng: vehicaleModel.Lng\r\n      }\r\n    });\r\n\r\n    marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe((e) => {\r\n      htmlInfoWindow.open(marker);\r\n    });\r\n  }\r\n\r\n  query: string = '';\r\n  autocompleteService: any;\r\n  searchDisabled: boolean;\r\n  saveDisabled: boolean;\r\n  location: any;\r\n  places: any = [];\r\n  searchPlace() {\r\n\r\n    this.saveDisabled = true;\r\n\r\n    if (this.query.length > 0 && !this.searchDisabled) {\r\n\r\n      let config = {\r\n        types: ['geocode'],\r\n        input: this.query\r\n      }\r\n\r\n      this.autocompleteService.getPlacePredictions(config, (predictions, status) => {\r\n\r\n        // if(status == google.maps.places.PlacesServiceStatus.OK && predictions){\r\n\r\n        this.places = [];\r\n\r\n        predictions.forEach((prediction) => {\r\n          this.places.push(prediction);\r\n        });\r\n        //}\r\n\r\n      });\r\n\r\n    } else {\r\n      this.places = [];\r\n    }\r\n\r\n  }\r\n\r\n\r\n  backGroundGeo() {\r\n    const config: BackgroundGeolocationConfig = {\r\n      desiredAccuracy: 10,\r\n      stationaryRadius: 20,\r\n      distanceFilter: 30,\r\n      debug: true, //  enable this hear sounds for background-geolocation life-cycle.\r\n      stopOnTerminate: false, // enable this to clear background location settings when the app terminates\r\n    };\r\n\r\n    this.backgroundGeolocation.configure(config)\r\n      .subscribe((location: BackgroundGeolocationResponse) => {\r\n\r\n        console.log(\"Hero \" + JSON.stringify(location));\r\n        // IMPORTANT:  You must execute the finish method here to inform the native plugin that you're finished,\r\n        // and the background-task may be completed.  You must do this regardless if your HTTP request is successful or not.\r\n        // IF YOU DON'T, ios will CRASH YOUR APP for spending too much time in the background.\r\n        this.backgroundGeolocation.finish(); // FOR IOS ONLY\r\n\r\n      });\r\n\r\n    // start recording location\r\n    this.backgroundGeolocation.start();\r\n\r\n    // If you wish to turn OFF background-tracking, call the #stop method.\r\n    //this.backgroundGeolocation.stop();\r\n\r\n    this.backgroundGeolocation.getValidLocations().then((data) => {\r\n      console.log(\"1# \" + data);\r\n    });\r\n\r\n\r\n    console.log(\"2# \" + this.backgroundGeolocation.LocationProvider);\r\n\r\n\r\n    this.backgroundGeolocation.getLocations().then((data) => {\r\n      console.log(\"3# \" + data);\r\n    });\r\n    this.backgroundGeolocation.stop();\r\n  }\r\n\r\n  reservationModel: vehicaleReservationModel;\r\n  reservVechil(id: number) {\r\n    //this._alertsService.showConfirmationDialog(id.toString(), \"\");\r\n\r\n    // this.reservationModel = new vehicaleReservationModel();\r\n    // this.reservationModel.vehicleId = \"3\";\r\n\r\n    // this.reservationModel.riderId = 1;\r\n    // this.reservationModel.reservationEnum = reservationEnum.Start;\r\n\r\n    // this._VehiclsProvider.reserve(this.reservationModel).subscribe(returnData => {\r\n    //   console.log(returnData);\r\n    // });\r\n\r\n\r\n    this.navCtrl.push(\"ScanCodePage\", { vId: id });\r\n    console.log(\"reversation # \" + id);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/maps/maps.ts","export class GeoModel{\r\n    lat?:any;\r\n    lng?:any;\r\n  }\r\n\r\n  export class GeoArea{\r\n    areaStr :any;\r\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/models/MapModel.ts","export  enum vehiclesIcons{\r\n    Moto=\"../../assets/imgs/scoter1.png\"\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/Enums/vehiclesIcons.ts"],"sourceRoot":""}