{"version":3,"sources":["../../src/pages/selected-rabbit/selected-rabbit.module.ts","../../src/models/MapModel.ts","../../src/pages/selected-rabbit/selected-rabbit.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SelectedRabbitPage } from './selected-rabbit';\n\n@NgModule({\n  declarations: [\n    SelectedRabbitPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SelectedRabbitPage),\n  ],\n})\nexport class SelectedRabbitPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/selected-rabbit/selected-rabbit.module.ts","export class GeoModel{\r\n    lat?:any;\r\n    lng?:any;\r\n  }\r\n\r\n  export class GeoArea{\r\n    areaStr :any;\r\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/models/MapModel.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ViewController, Platform } from 'ionic-angular';\nimport { LocationsProvider } from '../../providers/Map/locations';\nimport { GeoModel } from '../../models/MapModel';\nimport { VehiclsProvider } from '../../providers/Map/vechilsApi';\nimport { ResponseModel } from '../../models/ResponseModel';\n\n/**\n * Generated class for the SelectedRabbitPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\ndeclare var google;\n@IonicPage()\n@Component({\n  selector: 'page-selected-rabbit',\n  templateUrl: 'selected-rabbit.html',\n})\nexport class SelectedRabbitPage {\n  scoterId: Number = 0;\n  distanceSpace: string;\n  distanceDuration: string;\n  constructor(public v: ViewController, private platform: Platform, public modalController: ModalController,\n    public navCtrl: NavController, public navParams: NavParams, private _location: LocationsProvider,\n    public _VehiclsProvider: VehiclsProvider) {\n    this.scoterId = this.navParams.data.vId;\n  }\n  geoModelVar: GeoModel = new GeoModel();\n  geoModelScotterVar: GeoModel = new GeoModel();\n  ionViewDidLoad() {\n\n    this._location.GetCurrent().then(((resp) => {\n      this.geoModelVar.lat = resp.coords.latitude;\n      this.geoModelVar.lng = resp.coords.longitude;\n      console.log(\"longLat : > \" + resp.coords);\n      this.getVehiclsData();\n    })).catch(err => {\n      console.log(err);\n      this.geoModelVar.lat = \"30.783314141910544\";\n      this.geoModelVar.lng = \"34.94217772246134\";\n      this.getVehiclsData();\n    }\n    );\n\n\n  }\n\n  getVehiclsData() {\n    this._VehiclsProvider.byId(this.scoterId).subscribe(returnData => {\n\n      if (returnData != null && returnData != undefined) {\n        this.geoModelScotterVar.lat = Number.parseFloat(returnData.Messages.lat);\n        this.geoModelScotterVar.lng = Number.parseFloat(returnData.Messages.long);\n        this.calcDistance();\n      }\n    });\n  }\n\n  calcDistance() {\n    var myLatLng1 = { lat: this.geoModelVar.lat, lng: this.geoModelVar.lng };\n    var myLatLng2 = { lat: this.geoModelScotterVar.lat, lng: this.geoModelScotterVar.lng };\nconsole.table(this.geoModelVar)\nconsole.table(this.geoModelScotterVar)\n    var service = new google.maps.DistanceMatrixService;\n    service.getDistanceMatrix({\n      origins: [myLatLng1],\n      destinations: [myLatLng2],\n      travelMode: 'WALKING',\n      unitSystem: google.maps.UnitSystem.METRIC,\n      avoidHighways: false,\n      avoidTolls: false\n    }, function (response, status) {\n      if (status !== 'OK') {\n        //alert('Error was: ' + status);\n      } else {\n        this.distanceSpace = response.rows[0].elements[0].distance.text;\n        this.distanceDuration = response.rows[0].elements[0].duration.text;\n        console.log(response.rows[0].elements[0].distance.text)\n        console.log(\"dd \" + this.distanceSpace)\n      }\n    }\n\n    );\n  }\n\n\n  closeModal() {\n    console.log(this.distanceSpace);\n    this.distanceSpace = \"islamco\"\n    //this.v.dismiss();\n  }\n\n  scan() {\n    this.v.dismiss();\n    this.navCtrl.push(\"ScanCodePage\", { vId: this.scoterId });\n  }\n\n  direction() {\n    let direction = \"30.783314141910544,34.94217772246134\";\n    if (this.platform.is('ios')) {\n      window.open('maps://?q=' + direction, '_system');\n    } else {\n      let label = encodeURI('Rabbit');\n      window.open('geo:0,0?q=' + direction + '(' + label + ')', '_system');\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/selected-rabbit/selected-rabbit.ts"],"sourceRoot":""}