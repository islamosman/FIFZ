{"version":3,"sources":["../../src/pages/selected-rabbit/selected-rabbit.module.ts","../../src/models/MapModel.ts","../../src/pages/selected-rabbit/selected-rabbit.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SelectedRabbitPage } from './selected-rabbit';\n\n@NgModule({\n  declarations: [\n    SelectedRabbitPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SelectedRabbitPage),\n  ],\n})\nexport class SelectedRabbitPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/selected-rabbit/selected-rabbit.module.ts","export class GeoModel{\r\n    lat?:any;\r\n    lng?:any;\r\n  }\r\n\r\n  export class GeoArea{\r\n    areaStr :any;\r\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/models/MapModel.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ViewController, Platform } from 'ionic-angular';\nimport { LocationsProvider } from '../../providers/Map/locations';\nimport { GeoModel } from '../../models/MapModel';\nimport { VehiclsProvider } from '../../providers/Map/vechilsApi';\n// import { ResponseModel } from '../../models/ResponseModel';\nimport { Observable } from 'rxjs/Observable';\n\n/**\n * Generated class for the SelectedRabbitPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\ndeclare var google;\n@IonicPage()\n@Component({\n  selector: 'page-selected-rabbit',\n  templateUrl: 'selected-rabbit.html',\n})\nexport class SelectedRabbitPage {\n  scoterId: Number = 0;\n  distanceSpace: string;\n  distanceDuration: string;\n  constructor(public v: ViewController, private platform: Platform, public modalController: ModalController,\n    public navCtrl: NavController, public navParams: NavParams, private _location: LocationsProvider,\n    public _VehiclsProvider: VehiclsProvider) {\n    this.scoterId = this.navParams.data.vId;\n  }\n  geoModelVar: GeoModel = new GeoModel();\n  geoModelScotterVar: GeoModel = new GeoModel();\n  ionViewDidLoad() {\n\n    this._location.GetCurrent().then(((resp) => {\n      this.geoModelVar.lat = resp.coords.latitude;\n      this.geoModelVar.lng = resp.coords.longitude;\n      console.log(\"longLat : > \" + resp.coords);\n      this.getVehiclsData();\n    })).catch(err => {\n      console.log(err);\n      this.geoModelVar.lat = \"30.783314141910544\";\n      this.geoModelVar.lng = \"34.94217772246134\";\n      this.getVehiclsData();\n    }\n    );\n\n\n  }\n\n  getVehiclsData() {\n    this._VehiclsProvider.byId(this.scoterId).subscribe(returnData => {\n\n      if (returnData != null && returnData != undefined) {\n        this.geoModelScotterVar.lat = Number.parseFloat(returnData.Messages.lat);\n        this.geoModelScotterVar.lng = Number.parseFloat(returnData.Messages.long);\n        //this.calcDistance();\n        this.getDistanceMatrix().subscribe(response => {\n          console.log(response);\n          this.distanceSpace = response.rows[0].elements[0].distance.text;\n          this.distanceDuration = response.rows[0].elements[0].duration.text;\n         // this.changeValues();\n        });\n\n      }\n    });\n  }\n\n  getDistanceMatrix(): Observable<any> {\n    var service = new google.maps.DistanceMatrixService;\n    var myLatLng1 = { lat: this.geoModelVar.lat, lng: this.geoModelVar.lng };\n    var myLatLng2 = { lat: this.geoModelScotterVar.lat, lng: this.geoModelScotterVar.lng };\n\n    return Observable.create((observer) => {\n\n      service.getDistanceMatrix({\n        origins: [myLatLng1],\n        destinations: [myLatLng2],\n        travelMode: 'WALKING',\n        unitSystem: google.maps.UnitSystem.METRIC,\n        avoidHighways: false,\n        avoidTolls: false\n      }, (rsp, status) => {\n        // status checking goes here\n        observer.next(rsp);\n        observer.complete();\n      });\n    });\n  }\n\n  // calcDistance() {\n  //   var myLatLng1 = { lat: this.geoModelVar.lat, lng: this.geoModelVar.lng };\n  //   var myLatLng2 = { lat: this.geoModelScotterVar.lat, lng: this.geoModelScotterVar.lng };\n  //   console.table(this.geoModelVar)\n  //   console.table(this.geoModelScotterVar)\n  //   var service = new google.maps.DistanceMatrixService;\n  //   service.getDistanceMatrix({\n  //     origins: [myLatLng1],\n  //     destinations: [myLatLng2],\n  //     travelMode: 'WALKING',\n  //     unitSystem: google.maps.UnitSystem.METRIC,\n  //     avoidHighways: false,\n  //     avoidTolls: false\n  //   }, function (response, status) {\n  //     if (status !== 'OK') {\n  //       //alert('Error was: ' + status);\n  //     } else {\n\n  //       this.distanceSpace = response.rows[0].elements[0].distance.text;\n  //       this.distanceDuration = response.rows[0].elements[0].duration.text;\n  //       this.changeValues();\n\n  //       console.log(response.rows[0].elements[0].distance.text)\n  //       console.log(\"dd \" + this.distanceSpace)\n  //     }\n  //   }\n\n  //   );\n  // }\n\n  // changeValues() {\n  //   this.zone.run(() => {\n  //     this.distanceSpace = this.distanceSpace;\n  //     this.distanceDuration = this.distanceDuration\n  //   });\n  // }\n\n  closeModal() {\n    this.v.dismiss();\n  }\n\n  scan() {\n    this.v.dismiss();\n    this.navCtrl.push(\"ScanCodePage\", { vId: this.scoterId });\n  }\n\n  direction() {\n    let direction = \"30.783314141910544,34.94217772246134\";\n    if (this.platform.is('ios')) {\n      window.open('maps://?q=' + direction, '_system');\n    } else {\n      let label = encodeURI('Rabbit');\n      window.open('geo:0,0?q=' + direction + '(' + label + ')', '_system');\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/selected-rabbit/selected-rabbit.ts"],"sourceRoot":""}